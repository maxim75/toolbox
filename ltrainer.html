<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		
 		<!-- Local -->
		<link href="jslib/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<link href="ltrainer/style.css" rel="stylesheet" type="text/css" />
 		<!-- End local -->

 		<link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAkY+NAP///wDJxL0AtbCqAKGdmQAEBNQAAwMDAIJ/fAAAAP8AendzACsrKgAAAJQAlJGOAF5cWQBXVVIAAiIi8YtyIiAiIiLxi3IiIiIiIiGLIiIiIiIiKWwiIiIiIiIpbCIiIiIiIilsIiIiIiIiKWwiIiIiIiIpbCIiIiIiIilsIiIiIiIiKWwiIi4iIiIpbCIi7j7iLu7e4i5VRKrurd2upVJEqkTd3a1VIjRCJERERCIiAiIiIiIiIiCAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAQAA" rel="icon" type="image/x-icon" />
	</head>
 
	<body>

		<div>
			<span data-bind="text: ltrainer.lang"></span>
			<select data-bind="options: langList, value: ltrainer.lang"></select>
		</div>
		<div>
			<span data-bind="text: ltrainer.targetLang"></span>
			<select data-bind="options: langList, value: ltrainer.targetLang"></select>
		</div>

		<div data-bind="foreach: contentsView" class="contents">
			<div>
				<div class="st">
					<span data-bind="foreach: items">
						<span data-bind="attr: { class: 'part ' + className(), title: note  }, event: { click: onClick }" }">
							<span class="note-bottom" data-bind="text: note"></span>
							<span class="text" data-bind="text: str"></span>
						</span> 
					</span>
					<a href="#" target="_blank" class="gtlink noprint" data-bind="attr: { href: gtLink }">GT</a>
				</div>
			</div>
		</div>

		<table class="table">
			<tbody data-bind="foreach: stats">
				<tr>
					<td>
						<span data-bind="text: $data[0]"></span>
					</td>
					<td>
						<span data-bind="text: $data[1]"></span>
					</td>
				</tr>
			</tbody>
		</table>


		<input type="text" class="noprint" data-bind="value: dictFilter, valueUpdate:'afterkeydown'" >

		<table class="table">
			<tbody data-bind="foreach: dictView">
				<tr>
					<td>
						<span data-bind="text: $data[0]"></span>
					</td>
					<td>
						<span data-bind="text: $data[1].note"></span>
					</td>
					<td>
						<a href="#" data-bind="click: function() { pubsub.publish('dict-remove', [$data[0]]); }">X</a>
					</td>
				</tr>
			</tbody>
		</table>

		<form class="noprint" action="" data-bind="submit: onTextSubmit">
			<textarea data-bind="value: textareaValue"></textarea>
			<button type="submit">Add</button>
		</form>

		<div class="noprint">
			<button data-bind="click: onDownloadClick">D</button>
			<input type="file" data-bind="event: { change: onFileInputChange }" />
		</div>

		<div id="edit-word-modal" class="modal fade">
			<div class="modal-dialog" role="document">
			    <div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
       					 <h4 class="modal-title">Edit</h4>
					</div>
					<div class="modal-body">
						<form data-bind="submit: onEditWordSubmit">
							<div>
								<input type="text" data-bind="value: dictWord" />
							</div>
							<div>
								<input type="text" data-bind="value: note" />
							</div>
							<button type="submit">OK</button>

							<button data-bind="click: onLookupClick, text: lookupButtonText">
								Lookup
							</button>

							<div data-bind="visible: translations().length === 0">No results</div>

							<table data-bind="foreach: translations">
								<tr>
									<td data-bind="text: language"></td>
									<td>
										<a href="#" data-bind="click: function(vm, e) { $parent.onTranslationClick(e, text); }">
											<span data-bind="text: text"></span>
										</a>
									</td>
									<td data-bind="text: type"></td>
								</tr>
							</table>

							<ul data-bind="foreach: refLinks(dictWord())">
								<li>
									<a href="#" data-bind="attr: { href: url }">
										<span data-bind="text: title"></span>
									</a>
								</li>
							</ul>						
						</form>
					</div>
				</div>
			</div>
		</div>
		<ul>
			<li>
				<a href="http://www.structurise.com/screenshot-ocr/">OCR</a>
			</li>
		</ul>
	</body>

 	<!-- Local -->
	<script src="jslib/jquery-3.1.0.min.js"></script>
	<script src="jslib/lodash.js"></script>
	<script src="jslib/knockout-3.4.0.js"></script>
	<script src="jslib/bootstrap.min.js"></script>
	<script src="jslib/pubsub.js"></script>
	<script src="jslib/ramda.min.js"></script>
 	<!-- End local -->

 	<script src="ltrainer/ltrainer.js"></script>
 	<script src="ltrainer/gist.js"></script>

	<script>
		(function() {
			"use strict";
			window.viewModel = new Vm();
			ko.applyBindings(window.viewModel, $("body")[0]); 
		})();
	</script>
</html>
